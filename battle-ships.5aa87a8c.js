!function(){var t=function(t){document.getElementById("messageArea").innerHTML=t},e=function(t){document.getElementById(t).setAttribute("class","hit")},s=function(t){document.getElementById(t).setAttribute("class","miss")},n={boardSize:7,numShips:3,shipsSunk:0,shipLength:3,ships:[{locations:[0,0,0],hits:["","",""]},{locations:[0,0,0],hits:["","",""]},{locations:[0,0,0],hits:["","",""]}],fire:function(n){for(var i=0;i<this.numShips;i++){var o=this.ships[i],r=o.locations.indexOf(n);if(r>=0)return o.hits[r]="hit",e(n),t("HIT!"),this.isSunk(o)&&(t("You sank my battleship!"),this.shipsSunk++),!0}return s(n),t("You missed."),!1},isSunk:function(t){for(var e=0;e<this.shipLength;e++)if("hit"!==t.hits[e])return!1;return!0},generateShipLocations:function(){for(var t,e=0;e<this.numShips;e++){do{t=this.generateShip()}while(this.collision(t));this.ships[e].locations=t}},generateShip:function(){var t,e,s=Math.floor(2*Math.random());1===s?(t=Math.floor(Math.random()*this.boardSize),e=Math.floor(Math.random()*(this.boardSize-this.shipLength+1))):(e=Math.floor(Math.random()*this.boardSize),t=Math.floor(Math.random()*(this.boardSize-this.shipLength+1)));for(var n=[],i=0;i<this.shipLength;i++)1===s?n.push(t+""+(e+i)):n.push(t+i+""+e);return n},collision:function(t){for(var e=0;e<this.numShips;e++)for(var s=n.ships[e],i=0;i<t.length;i++)if(s.locations.indexOf(t[i])>=0)return!0;return!1}},i={guesses:0,processGuess:function(e){var s=function(t){var e=["A","B","C","D","E","F","G"];if(null===t||2!==t.length)alert("Oops, please enter a letter and a number on the board.");else{var s=t.charAt(0).toUpperCase(),i=e.indexOf(s),o=t.charAt(1);if(isNaN(i)||isNaN(o))alert("Oops, that isn't on the board.");else{if(!(i<0||i>=n.boardSize||o>=n.boardSize))return i+o;alert("Oops, that's off the board!")}}return null}(e);(console.log(s),s)&&(this.guesses++,n.fire(s)&&n.shipsSunk===n.numShips&&t("You sank all my battleships, in "+this.guesses+" guesses"))}};function o(){var t=document.getElementById("guessInput"),e=t.value;i.processGuess(e),t.value=""}function r(t){"Enter"===t.key&&(t.preventDefault(),o())}window.onload=function(){var t=document.getElementById("fireButton"),e=document.getElementById("guessInput");t.onclick=o,e.addEventListener("keypress",r),n.generateShipLocations()}}();
//# sourceMappingURL=battle-ships.5aa87a8c.js.map
