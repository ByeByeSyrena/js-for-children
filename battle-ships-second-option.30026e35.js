const t=function(t){document.getElementById("messageArea").innerHTML=t},i=function(t){document.getElementById(t).classList.add("hit")},s=function(t){document.getElementById(t).classList.add("miss")},e={boardSize:7,numShips:7,shipsSunk:0,ships:[],fire:function(e){for(let s=0;s<this.numShips;s++){const n=this.ships[s],o=n.locations.indexOf(e);if(o>=0)return n.hits[o]="hit",i(e),t("HIT!"),this.isSunk(n)&&(t("You sank my battleship!"),this.shipsSunk++),!0}return s(e),t("You missed."),!1},isSunk:function(t){return t.hits.every((t=>"hit"===t))},generateShipLocations:function(){let t;for(let i=0;i<3;i++){do{t=this.generateShip(3)}while(this.collision(t));this.ships.push({locations:t,hits:Array(3).fill("")})}for(let i=0;i<4;i++){do{t=this.generateShip(1)}while(this.collision(t));this.ships.push({locations:t,hits:[""]})}},generateShip:function(t){const i=Math.floor(2*Math.random());let s,e;1===i?(s=Math.floor(Math.random()*this.boardSize),e=Math.floor(Math.random()*(this.boardSize-t+1))):(e=Math.floor(Math.random()*this.boardSize),s=Math.floor(Math.random()*(this.boardSize-t+1)));let n=[];for(let o=0;o<t;o++)1===i?n.push(s+""+(e+o)):n.push(s+o+""+e);return n},collision:function(t){for(let i=0;i<this.ships.length;i++){const s=this.ships[i];for(let i=0;i<t.length;i++){const e=this.getAdjacentLocations(t[i]);for(let t=0;t<e.length;t++)if(s.locations.indexOf(e[t])>=0)return!0}}return!1},getAdjacentLocations:function(t){const[i,s]=t.split("").map(Number),e=[];return e.push(`${i-1}${s}`),e.push(`${i+1}${s}`),e.push(`${i}${s-1}`),e.push(`${i}${s+1}`),e.push(`${i-1}${s-1}`),e.push(`${i-1}${s+1}`),e.push(`${i+1}${s-1}`),e.push(`${i+1}${s+1}`),e}};function n(i){const s=i.target,h=s.id,r=e.fire(h);s.removeEventListener("click",n),r&&e.shipsSunk===e.numShips&&(t("You sank all my battleships!"),o.forEach((t=>{t.removeEventListener("click",n)})))}const o=document.querySelectorAll(".board table td");o.forEach((t=>{t.addEventListener("click",n)})),e.generateShipLocations();
//# sourceMappingURL=battle-ships-second-option.30026e35.js.map
