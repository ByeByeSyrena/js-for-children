{"mappings":"AAEA,MAAMA,EACc,SAAUC,GACFC,SAASC,eAAe,eAChCC,UAAYH,C,EAH1BD,EAKU,SAAUK,GACLH,SAASC,eAAeE,GAChCC,aAAa,QAAS,M,EAP7BN,EASW,SAAUK,GACNH,SAASC,eAAeE,GAChCC,aAAa,QAAS,O,EAI7BC,EAAQ,CACVC,UAAW,EACXC,SAAU,EACVC,UAAW,EACXC,WAAY,EACZC,MAAO,CACH,CAAEC,UAAW,CAAC,KAAM,KAAM,MAAOC,KAAM,CAAC,GAAI,GAAI,KAChD,CAAED,UAAW,CAAC,KAAM,KAAM,MAAOC,KAAM,CAAC,GAAI,GAAI,KAChD,CAAED,UAAW,CAAC,KAAM,KAAM,MAAOC,KAAM,CAAC,GAAI,GAAI,MAEpDC,KAAM,SAAUC,GACZ,IAAK,IAAIC,EAAI,EAAGA,EAAIC,KAAKT,SAAUQ,IAAK,CACpC,MAAME,EAAOD,KAAKN,MAAMK,GAClBG,EAAQD,EAAKN,UAAUQ,QAAQL,GACrC,GAAII,GAAS,EAQT,OAPAD,EAAKL,KAAKM,GAAS,MACnBpB,EAAgBgB,GAChBhB,EAAoB,QAChBkB,KAAKI,OAAOH,KACZnB,EAAoB,2BACpBkB,KAAKR,cAEF,C,CAKf,OAFAV,EAAiBgB,GACjBhB,EAAoB,gBACb,C,EAEXsB,OAAQ,SAAUH,GACd,IAAK,IAAIF,EAAI,EAAGA,EAAIC,KAAKP,WAAYM,IACjC,GAAqB,QAAjBE,EAAKL,KAAKG,GACV,OAAO,EAGf,OAAO,C,GAITM,EAAa,CACfC,QAAS,EAETC,aAAc,SAAUT,GACpB,MAAMX,EAWd,SAAoBW,GAChB,MAAMU,EAAW,CAAC,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,KAEhD,GAAc,OAAVV,GAAmC,IAAjBA,EAAMW,OACxBC,MAAM,8DACH,CACH,MAAMC,EAAYb,EAAMc,OAAO,GAAGC,cAC5BC,EAAMN,EAASL,QAAQQ,GACvBI,EAASjB,EAAMc,OAAO,GAE5B,GAAII,MAAMF,IAAQE,MAAMD,GACpBL,MAAM,sCACH,MAAII,EAAM,GAAKA,GAAOzB,EAAMC,WAAayB,GAAU1B,EAAMC,WAG5D,OAAOwB,EAAMC,EAFbL,MAAM,8BAEa,C,CAG3B,OAAO,I,CA7BcO,CAAWnB,GAC5B,GAAIX,EAAU,CACVa,KAAKM,UACOjB,EAAMQ,KAAKV,IACZE,EAAMG,YAAcH,EAAME,UACjCT,EAAoB,mCAAqCkB,KAAKM,QAAU,W,IAuCxF,SAASY,IACL,MAAMC,EAAanC,SAASC,eAAe,cACrCa,EAAQqB,EAAWC,MACzBf,EAAWE,aAAaT,GACxBqB,EAAWC,MAAQ,E,CAGvBC,OAAOC,OAZP,WACuBtC,SAASC,eAAe,cAChCsC,QAAUL,C","sources":["src/js/battle-ships.js"],"sourcesContent":["// const fireButton = document.getElementById(\"fireButton\");\n\nconst view = {\n    displayMessage: function (msg) {\n        const messageArea = document.getElementById(\"messageArea\");\n        messageArea.innerHTML = msg;\n    },\n    displayHit: function (location) {\n        const cell = document.getElementById(location);\n        cell.setAttribute(\"class\", \"hit\");\n    },\n    displayMiss: function (location) {\n        const cell = document.getElementById(location);\n        cell.setAttribute(\"class\", \"miss\");\n    },\n};\n\nconst model = {\n    boardSize: 7,\n    numShips: 3,\n    shipsSunk: 0,\n    shipLength: 3,\n    ships: [\n        { locations: [\"06\", \"16\", \"26\"], hits: [\"\", \"\", \"\"] },\n        { locations: [\"24\", \"34\", \"44\"], hits: [\"\", \"\", \"\"] },\n        { locations: [\"10\", \"11\", \"12\"], hits: [\"\", \"\", \"\"] },\n    ],\n    fire: function (guess) {\n        for (let i = 0; i < this.numShips; i++) {\n            const ship = this.ships[i];\n            const index = ship.locations.indexOf(guess);\n            if (index >= 0) {\n                ship.hits[index] = \"hit\";\n                view.displayHit(guess);\n                view.displayMessage(\"HIT!\");\n                if (this.isSunk(ship)) {\n                    view.displayMessage(\"You sank my battleship!\");\n                    this.shipsSunk++;\n                }\n                return true;\n            }\n        }\n        view.displayMiss(guess);\n        view.displayMessage(\"You missed.\");\n        return false;\n    },\n    isSunk: function (ship) {\n        for (let i = 0; i < this.shipLength; i++) {\n            if (ship.hits[i] !== \"hit\") {\n                return false;\n            }\n        }\n        return true;\n    },\n};\n\nconst controller = {\n    guesses: 0,\n\n    processGuess: function (guess) {\n        const location = parseGuess(guess);\n        if (location) {\n            this.guesses++;\n            const hit = model.fire(location);\n            if (hit && model.shipsSunk === model.numShips) {\n                view.displayMessage(\"You sank all my battleships, in \" + this.guesses + \" guesses\");\n            }\n        }\n    },\n};\n\nfunction parseGuess(guess) {\n    const alphabet = [\"A\", \"B\", \"C\", \"D\", \"E\", \"F\", \"G\"];\n\n    if (guess === null || guess.length !== 2) {\n        alert(\"Oops, please enter a letter and a number on the board.\");\n    } else {\n        const firstChar = guess.charAt(0).toUpperCase();\n        const row = alphabet.indexOf(firstChar);\n        const column = guess.charAt(1);\n\n        if (isNaN(row) || isNaN(column)) {\n            alert(\"Oops, that isn't on the board.\");\n        } else if (row < 0 || row >= model.boardSize || column >= model.boardSize) {\n            alert(\"Oops, that's off the board!\");\n        } else {\n            return row + column;\n        }\n    }\n    return null;\n}\n\n// fireButton.addEventListener(\"click\", () => {\n//     const guessInput = document.getElementById(\"guessInput\");\n//     const guess = guessInput.value;\n//     controller.processGuess(guess);\n//     guessInput.value = \"\";\n// });\n\nfunction init() {\n    const fireButton = document.getElementById(\"fireButton\");\n    fireButton.onclick = handleFireButton;\n};\n\nfunction handleFireButton() {\n    const guessInput = document.getElementById(\"guessInput\");\n    const guess = guessInput.value;\n    controller.processGuess(guess);\n    guessInput.value = \"\";\n};\n\nwindow.onload = init;"],"names":["$0ad763e13bd9bb1f$var$view","msg","document","getElementById","innerHTML","location","setAttribute","$0ad763e13bd9bb1f$var$model","boardSize","numShips","shipsSunk","shipLength","ships","locations","hits","fire","guess","i","this","ship","index","indexOf","isSunk","$0ad763e13bd9bb1f$var$controller","guesses","processGuess","alphabet","length","alert","firstChar","charAt","toUpperCase","row","column","isNaN","$0ad763e13bd9bb1f$var$parseGuess","$0ad763e13bd9bb1f$var$handleFireButton","guessInput","value","window","onload","onclick"],"version":3,"file":"battle-ships.170702c9.js.map"}