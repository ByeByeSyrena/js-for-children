!function(){function t(){for(var t=[],e=0;e<4;e++){var n=Math.floor(10*Math.random());t.push(n)}return t.join("")}var e=document.getElementById("user-input"),n=document.getElementById("user-output"),r=document.getElementById("ok-button"),o=document.body,a=!1;function i(t){t.classList.contains("selected")?t.classList.remove("selected"):t.classList.add("selected")}function d(){n.querySelectorAll(".selected").forEach((function(t){t.classList.remove("selected")}))}function c(t){t.preventDefault()}n.addEventListener("mousedown",(function(t){a=!0;var e=t.clientX,r=t.clientY,o=Array.from(n.children);-1,-1,o.forEach((function(t,n){var o=t.getBoundingClientRect();e>=o.left&&e<=o.right&&r>=o.top&&r<=o.bottom&&(n,n,i(t))}))})),document.addEventListener("mouseup",(function(e){a=!1,function(){var e=n.querySelectorAll(".selected");if(0===e.length)return;var r=document.createElement("span");r.setAttribute("draggable","true"),r.setAttribute("id",t()),r.classList.add("combined-item");var o=e[0];o.parentNode.insertBefore(r,o),e.forEach((function(t){r.textContent+=t.textContent,t.parentNode.removeChild(t)})),d(),r.addEventListener("dragstart",(function(t){t.dataTransfer.setData("text/plain",r.id)})),r.addEventListener("dragend",(function(t){t.target.style.opacity=""}))}()})),n.addEventListener("mousemove",(function(t){if(a){var e=t.clientX,r=t.clientY,o=Array.from(n.children);-1,o.forEach((function(t,n){var o=t.getBoundingClientRect();e>=o.left&&e<=o.right&&r>=o.top&&r<=o.bottom&&(n,i(t))}))}})),n.addEventListener("click",(function(t){var e=t.target;"span"===e.tagName.toLowerCase()&&(t.ctrlKey||d(),i(e))})),r.addEventListener("click",(function(){e.value.split("").forEach((function(e){var r=document.createElement("span");r.setAttribute("draggable","true"),r.setAttribute("id",t()),r.classList.add("item"),r.textContent=e,n.appendChild(r),r.addEventListener("dragstart",(function(t){t.dataTransfer.setData("text/plain",t.target.id)})),r.addEventListener("dragend",(function(t){t.target.style.opacity=""}))}))})),n.ondragover=c,o.ondragover=c,n.ondrop=function(t){t.preventDefault();var e=t.dataTransfer.getData("text/plain"),r=document.getElementById(e),o=t.target.closest(".item");r&&(o?t.clientY<o.getBoundingClientRect().top+o.offsetHeight/2?o.parentNode.insertBefore(r,o):o.parentNode.insertBefore(r,o.nextSibling):n.appendChild(r),r.style.position="",r.style.left="",r.style.top="")},o.ondrop=function(t){if(t.target===n||n.contains(t.target))return;t.preventDefault();var e=t.dataTransfer.getData("text/plain"),r=document.getElementById(e);if(!r)return void console.error("Error: Dragged element not found.");if(!o.contains(r))return void console.error("Error: Dragged element is not in the expected container.");r.style.position="absolute",r.style.left=t.clientX+"px",r.style.top=t.clientY+"px",o.appendChild(r)}}();
//# sourceMappingURL=test-task-xy.b1d368f6.js.map
